<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>EnfrokOS</title>
  <style>
    :root {
      --bg: #1c1c1c;
      --primary: #0078d7;
      --white: #fff;
      --font: -apple-system, BlinkMacSystemFont, 'San Francisco', sans-serif;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: var(--font);
    }

    body {
      background: var(--bg);
      color: var(--white);
      height: 100vh;
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }

    .fade {
      opacity: 0;
      animation: fadein 1s forwards;
    }

    @keyframes fadein {
      to {
        opacity: 1;
      }
    }

    .screen {
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background-color: var(--bg);
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      z-index: 10;
    }

    .hidden {
      display: none !important;
    }

    input, button, textarea {
      padding: 10px;
      margin: 10px;
      border: none;
      border-radius: 5px;
    }

    button {
      background: var(--primary);
      color: var(--white);
      cursor: pointer;
    }

    .topbar {
      background: #111;
      padding: 10px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-weight: bold;
    }

    .apps {
      flex: 1;
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 40px;
      flex-wrap: wrap;
      padding: 40px;
    }

    .app {
      background: #2c2c2c;
      border-radius: 20px;
      padding: 20px;
      width: 100px;
      height: 100px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
      transition: background 0.2s;
    }

    .app:hover {
      background: #3a3a3a;
      cursor: pointer;
    }

    .app img {
      width: 40px;
      height: 40px;
      margin-bottom: 10px;
    }

    .window {
      position: fixed;
      top: 100px;
      left: 50%;
      transform: translateX(-50%);
      width: 400px;
      background: #2e2e2e;
      padding: 20px;
      border-radius: 10px;
      display: none;
      flex-direction: column;
      z-index: 100;
    }

    .window h2 {
      margin-bottom: 10px;
    }

    textarea, input[type="text"] {
      width: 100%;
      margin-bottom: 10px;
      padding: 8px;
      border: none;
      border-radius: 5px;
    }
  </style>
</head>
<body>
  <div class="screen fade" id="setup">
    <h2>Welcome to EnfrokOS</h2>
    <p>This OS includes Browser, Settings, Calculator, Notepad, and Enfrokian Intelligence.</p>
    <input type="text" id="setup-name" placeholder="Enter your name">
    <input type="password" id="setup-password" placeholder="Create a password">
    <button onclick="showWarning()">Continue</button>
  </div>

  <div class="screen hidden fade" id="warning">
    <h2>Warning</h2>
    <p>Do not write any of your important information in the app 'Notepad' because after you refresh all data would be removed from the Operating System.</p>
    <button onclick="goToLogin()">Continue</button>
  </div>

  <div class="screen hidden fade" id="login">
    <h2 id="login-title">Please enter your password to continue</h2>
    <input type="password" id="login-password" placeholder="Password">
    <button onclick="handleLogin()">Login</button>
  </div>

  <div class="hidden fade" id="desktop">
    <div class="topbar">
      <span>THUNDER DEVER</span>
      <span id="user-display">Enfrok</span>
      <span style="cursor:pointer;" onclick="lockOS()">ðŸ”’</span>
    </div>

    <div class="apps">
      <div class="app" onclick="openApp('settings')">
        <img src="https://img.icons8.com/ios-filled/50/ffffff/settings.png" alt="Settings" />
        Settings
      </div>
      <div class="app" onclick="openApp('browser')">
        <img src="https://img.icons8.com/ios-filled/50/ffffff/internet.png" alt="Browser" />
        Browser
      </div>
      <div class="app" onclick="openApp('calculator')">
        <img src="https://img.icons8.com/ios-filled/50/ffffff/calculator.png" alt="Calculator" />
        Calculator
      </div>
      <div class="app" onclick="openApp('notepad')">
        <img src="https://img.icons8.com/ios-filled/50/ffffff/note.png" alt="Notepad" />
        Notepad
      </div>
      <div class="app" onclick="openApp('ai')">
        <img src="https://img.icons8.com/ios-filled/50/ffffff/artificial-intelligence.png" alt="AI" />
        Enfrokian AI
      </div>
    </div>

    <div class="window" id="settings">
      <h2>Settings</h2>
      <p>Customize your OS soon. (Demo only)</p>
    </div>
    <div class="window" id="browser">
      <h2>Browser</h2>
      <input type="text" id="url" placeholder="Enter Wikipedia URL...">
      <button onclick="loadSite()">Go</button>
      <iframe id="iframe" style="width:100%; height:200px;"></iframe>
      <p id="browser-msg"></p>
    </div>
    <div class="window" id="calculator">
      <h2>Calculator</h2>
      <input type="text" id="calc-display" readonly>
      <div>
        <button onclick="calcPress('7')">7</button>
        <button onclick="calcPress('8')">8</button>
        <button onclick="calcPress('9')">9</button>
        <button onclick="calcPress('+')">+</button><br>
        <button onclick="calcPress('4')">4</button>
        <button onclick="calcPress('5')">5</button>
        <button onclick="calcPress('6')">6</button>
        <button onclick="calcPress('-')">-</button><br>
        <button onclick="calcPress('1')">1</button>
        <button onclick="calcPress('2')">2</button>
        <button onclick="calcPress('3')">3</button>
        <button onclick="calcPress('*')">*</button><br>
        <button onclick="calcPress('0')">0</button>
        <button onclick="calcPress('.')">.</button>
        <button onclick="calcPress('=')">=</button>
        <button onclick="calcPress('C')">C</button>
      </div>
    </div>
    <div class="window" id="notepad">
      <h2>Notepad</h2>
      <textarea id="note"></textarea>
      <button onclick="alert('Note saved (but not persistent)')">Save</button>
    </div>
    <div class="window" id="ai">
      <h2>The Enfrokian Intelligence</h2>
      <p>The AI is unfortunately limited, meaning you can only ask limited questions.</p>
      <input type="text" id="aiInput" placeholder="Ask me anything...">
      <button onclick="talkToAI()">Send</button>
      <div id="aiReply" style="margin-top:10px;"></div>
    </div>
  </div>

  <script>
    let registeredName = "";
    let registeredPassword = "";

    function showWarning() {
      registeredName = document.getElementById("setup-name").value;
      registeredPassword = document.getElementById("setup-password").value;
      document.getElementById("setup").classList.add("hidden");
      document.getElementById("warning").classList.remove("hidden");
    }

    function goToLogin() {
      document.getElementById("warning").classList.add("hidden");
      document.getElementById("login").classList.remove("hidden");
      document.getElementById("login-title").textContent = `Welcome ${registeredName}, please enter your password to continue`;
    }

    function handleLogin() {
      const input = document.getElementById("login-password").value;
      if (input === registeredPassword) {
        document.getElementById("login").classList.add("hidden");
        document.getElementById("desktop").classList.remove("hidden");
        document.getElementById("user-display").textContent = registeredName;
      } else {
        alert("Incorrect password.");
      }
    }

    function openApp(appName) {
      document.querySelectorAll('.window').forEach(w => w.style.display = 'none');
      const app = document.getElementById(appName);
      if (app) app.style.display = 'flex';
    }

    function lockOS() {
      location.reload();
    }

    function loadSite() {
      const url = document.getElementById("url").value;
      const iframe = document.getElementById("iframe");
      const msg = document.getElementById("browser-msg");
      if (url.includes("wikipedia.org")) {
        iframe.src = url;
        msg.textContent = "";
      } else {
        msg.textContent = "Only Wikipedia is supported.";
      }
    }

    function calcPress(val) {
      const disp = document.getElementById("calc-display");
      if (val === 'C') disp.value = '';
      else if (val === '=') {
        try {
          disp.value = eval(disp.value);
        } catch {
          disp.value = 'Error';
        }
      } else {
        disp.value += val;
      }
    }

    function talkToAI() {
      const input = document.getElementById("aiInput").value.toLowerCase();
      const reply = document.getElementById("aiReply");
      if (input.includes("name")) {
        reply.textContent = "My name is PerÃ© Enfrokian meaning I'm Pure Enfrokian.";
      } else if (input.includes("joke")) {
        reply.textContent = "Why don't scientists trust atoms? Because they make up everything!";
      } else if (input.includes("hello") || input.includes("hi") || input.includes("hey")) {
        reply.textContent = "Hello, how can I help you?";
      } else if (input.includes("horror")) {
        reply.textContent = "One night, the lights never came back on...";
      } else if (/\d+[+\-*/]\d+/.test(input)) {
        try {
          reply.textContent = `Answer: ${eval(input)}`;
        } catch {
          reply.textContent = "Sorry, I can't solve that.";
        }
      } else {
        reply.textContent = "I didn't understand that. Try asking differently.";
      }
    }
  </script>
</body>
</html>
